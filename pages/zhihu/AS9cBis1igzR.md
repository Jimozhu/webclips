---
title: 参数调优——研究平台新功能！
date: 2024-10-04T15:14:40.487Z
categories:
  - zhihu
tags:
  - zhihu
  - 股票
origin_url: //zhuanlan.zhihu.com/p/28017827
---
我相信，大家都曾经幻想过一件事情 ——**批量跑回测**，最常见的有一个均线策略，然后到底是 5 日、10 日、20 日、30 日、60 日中的**哪个均线的收益率更好**？

验证这个想法就需要在回测代码中**不断修改参数再跑回测**，能不能有一样工具可以帮助我们自动更改参数运行回测，直接返回结果呢？

&#x20;**答案：目前线上已支持研究平台运行回测，提供策略模版、参数调优模版！**&#x20;

![](https://pic4.zhimg.com/v2-feb2a5674be9f9d963b0dd3cb9c60fd5_b.png)

（策略模版入口）

我们可以看到策略形式与回测并无太大差异，不同的是在运行回测前会传入一系列的参数，这些参数将帮助我们**确定回测的区间**、**佣金**、**初始资金**等。我们可以通过输入 **%%rqalpha -h **命令获取命令参数及对应意义。

![](https://pic2.zhimg.com/v2-23b16a13912e0e930878dad57149f4ff_b.png)

（部分命令参数）

![](https://pic4.zhimg.com/v2-9b7855423abddb87599cafc8cc5cede7_b.png)

（股票策略模版）

## **参数调优**

我们直接通过**默认的参数调优模版**进行讲解，首先模版内会**导入所需运行的模块**，同时设置了线程数（由于运行回测所需资源较大，研究平台只能同时运行 2 个线程）。

设置回测参数，回测日期范围、运行回测类型、频率、基准合约、初始回测资金都在会 config 的‘base’下，其余的设置一般情况下不需要作更改。

![](https://pica.zhimg.com/v2-4c26b807c17a9d28cc7d30b07cb72baa_b.png)

（回测参数）

参数调优的**核心逻辑在于不同的参数组成一个队列进行回测**，依次返回回测结果。调优模版中就是将建立了一个**双均线的队列**，并发运行回测部分代码一般情况下也不需要修改。

![](https://pica.zhimg.com/v2-f8fbdfec0a8e965c864de3c4f8154ca6_b.png)

（建立参数队列）

![](https://picx.zhimg.com/v2-55d0873f8df8dcc4a134bd3c64d4f0cd_b.png)

（并发运行回测代码）

![](https://picx.zhimg.com/v2-b112f0e939bfb815a6acc16edec06191_b.png)

（回测结果）

最终我们可以通过打印获得参数调优的结果，找到参数中的 “真爱”。参数调优虽好，但 **小心过度拟合哦！**&#x20;

[一键传送，克隆期货参数调优模版](https://link.zhihu.com/?target=https%3A//www.ricequant.com/community/topic/3639//3%3Futm_source%3Dzhihu)
